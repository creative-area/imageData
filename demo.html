<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>ImageData - demo</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="">
		<meta name="author" content="">

		<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
		<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		
		<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/marked/0.3.0/marked.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.js"></script>

		<script type="text/javascript" src="ExifReader/js/ExifReader.js"></script>
		<script type="text/javascript" src="ImageData2.js"></script>

		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
		<![endif]-->

		<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.1/css/bootstrap.min.css" rel="stylesheet">
		<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.min.css" rel="stylesheet">
		<link href="http://labs.creative-area.net/css/prettify.css" rel="stylesheet">
		<link href="http://labs.creative-area.net/css/ribbon.css" rel="stylesheet">
		<style>
		body {
			padding-top: 40px;
		}
		</style>
	</head>

	<body>
		<div class="container">
			<h3>
				ImageData
				<small> - demo</small>
			</h3>
			
			<p><button class="btn btn-default" id="image_picker">Select image</button></p>
			
			<div id="image-render"></div>

			<script>
			function appendImage( data ) {
				$( "#image-render" ).append([
					'<div class="thumbnail">',
						'<img',
							' src="' + data.url + '"',
							// ' width="' + data.width + '"',
							// ' height="' + data.height + '"',
							' alt="render">',
						'<div class="caption">',
							'<p class="text-center">'+data.width+' x '+data.height+'</p>',
						'</div>',
					'</div>'
				].join( "" ));
			}
			$(document).ready(function(){
				$( "#image_picker" ).imageData({
					// returnImage: true,
					// resize: [
					// 	{ width: 200, height: 200 },
					// 	{ width: 200 },
					// 	{ height: 200 },
					// 	{ width: 100, height: 100 },
					// 	{}
					// ],
					complete: function(data) {
						console.log(data);
						
						$( "#image-render" ).html("");

						$( "#image-render" ).append( "<p>" + data.file.name + " (" + data.file.type + ")<br>" + data.width + " x " + data.height + " - " + data.file.size + " octets<br>Orientation " + data.orientation + " - Ratio " + data.ratio + "</p>");

						$( "#image-render" ).append("<p>Returned:</p>");
						appendImage( data );

						// var dataCanvas = $.extend( {}, data );
						// dataCanvas.url = dataCanvas.canvas;
						// appendImage( dataCanvas );

						$.each( data.resize, function(i, resized) {
							appendImage( resized );
						});
					}
				});
			});
			</script>
		</div>
	</body>
</html>